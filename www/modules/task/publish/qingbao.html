<ion-modal-view ng-controller="qingbaoPublishController as ctl">
  <style type="text/css">
    .task-publish-default {
      background-color:#efeff4
    }

    .task-group-wrapper {
      -webkit-box-align: center;
      -ms-flex-align: center;
      -webkit-align-items: center;
      -moz-align-items: center;
      align-items: center;
      -webkit-border-radius: 4px;
      background: #fff;
      margin-bottom: 10px;

    }

    .task-group-wrapper .no-border {
      border-style: none;
    }

    .task-group-wrapper .left-align {
      margin-left: 5%;
    }
    .task-group-wrapper .group-item {
      display: -webkit-flex; /* Safari */
      display: flex;
      border-color: #ddd;
      background-color: #fff;
      color: #444;
      z-index: 2;
      padding: 2px;
      font-size: 0.8em;
      /*height:3em;*/
    }

    /*.task-group-wrapper .group-item > *{*/
    /*display: -webkit-box;*/
    /*display: -webkit-flex;*/
    /*display: -moz-box;*/
    /*display: -moz-flex;*/
    /*display: -ms-flexbox;*/
    /*display: flex;*/
    /*-webkit-box-align: center;*/
    /*-ms-flex-align: center;*/
    /*-webkit-align-items: center;*/
    /*-moz-align-items: center;*/
    /*align-items: center;*/
    /*font-size: 0.8em;*/
    /*}*/

    .task-group-wrapper .group-item > * {
      align-items: center;
      font-size: 0.8em;
    }

    .task-group-wrapper .group-item-input {
      display: -webkit-box;
      display: -webkit-flex;
      display: -moz-box;
      display: -moz-flex;
      display: -ms-flexbox;
      display: flex;
      -webkit-box-align: center;
      -ms-flex-align: center;
      -webkit-align-items: center;
      -moz-align-items: center;
      align-items: center;
      position: relative;
      overflow: hidden;
    }

    .task-group-wrapper .group-item-input input,p,a {
      -webkit-border-radius: 0;
      border-radius: 0;
      -webkit-box-flex: 1;
      -webkit-flex: 1 220px;
      -moz-box-flex: 1;
      -moz-flex: 1 220px;
      -ms-flex: 1 220px;
      flex: 1 220px;
      -webkit-appearance: none;
      -moz-appearance: none;
      appearance: none;
      margin: 0;
      padding-right: 24px;
      padding-left: 5px;
      background-color: transparent;
      height:2em;
    }

    .task-group-wrapper .group-item .icon {
      max-width: 20px;
      max-height: 30px;
    }

    .task-group-wrapper .group-item > .no-border {
      border-style: none;
    }

    .task-group-wrapper .split {
      border-bottom: 1px solid #ddd;
      margin-top: 2px;
      margin-bottom: 2px;
    }

    .task-group-wrapper .high-light {
      background-color: #ffedea;
    }

    .task-group-wrapper .button-default {
      background-color: #f5f5f5;
    }

    .task-group-wrapper .button {
      border-radius: 30px;
      margin: 4px;
      text-align: center;
    }

    .task-publish-default .button-full {
      border-radius: 10px;
      background-color: #e6e6e6;
    }

  </style>

  <ion-header-bar align-title="center" class="bar-dark task-publish-default" style="background-color:#ff492f">
    <div class="buttons">
      <a class="button" style="background-color:#ff492f" ng-click="ctl.closeModal()">取消
      </a>
    </div>
    <div class="title col-center">发布</div>
  </ion-header-bar>
  <ion-content class="" overflow-scroll="false" style="overflow: hidden;background-color:#efeff4">
    <div class="task-group-wrapper">
      <div class="row group-item group-item-input no-border left-align">
        <img class="logo col col-10" src="./img/task/publish/shaodai-logo.png"/>

        <div class="col col-20" style="height:100%">{{ctl.taskTypeName}}</div>

        <button class="col col-33 button button-small icon-right ion-chevron-down" style="background-color: #ffeceb; color: #f78058;"
                ng-click="ctl.selectSubTaskType()" value="{{ctl.selectedSubTask.type}}">
          {{ctl.selectedSubTask.name}}
        </button>
      </div>

      <div class="left-align split"></div>

      <div class="row group-item group-item-input no-border left-align">
        <textarea placeholder="{{ctl.selectedSubTask.holder}}" style="border:none; width: 100%;height:5em"  ng-model="ctl.summary"/></textarea>
      </div>

      <div class="left-align  split"></div>

      <div class="row group-item group-item-input no-border left-align">
        <!--<img class="icon" src="./img/login/phone.png"/>-->
        <div class="icon ion-ios-location" />
        <input class="col-80" type="text" placeholder="你希望对方在哪里与你碰头" ng-model="ctl.pubLocation"/>
      </div>

      <div class="left-align  split"></div>

      <div class="row group-item group-item-input no-border left-align">
        <!--<img class="icon" src="./img/login/phone.png"/>-->
        <div class="icon ion-clock" />
        <input class="col-80" type="text" placeholder="什么时候要" ng-model="ctl.deadline|date:'MM月dd日 HH:mm'"  ng-click="ctl.setDeadline()"/>
      </div>

    </div>


    <div class="task-group-wrapper">
      <div class="left-align row" style="height:1.8em">
        <div class="col-center" style="text-align: left; font-size: 1em ">感谢方式</div>
      </div>


      <div class="split left-align"></div>
      <div class="row group-item group-item-input no-border left-align">
        <p class="col col-20 ">请客</p>
        <a class="col col-20 button"
           ng-class="{true:'high-light',false:''}[ctl.selectedRewardType == '1' && ctl.selectedSubRewardType == '1']"
           ng-click="ctl.setRewardType(1,1)">一杯饮料</a>
        <a class="col col-20 button"
           ng-class="{true:'high-light',false:''}[ctl.selectedRewardType == '1' && ctl.selectedSubRewardType == '2']"
           ng-click="ctl.setRewardType(1,2)">一份零食</a>
        <a class="col col-20 button"
           ng-class="{true:'high-light',false:''}[ctl.selectedRewardType == '1' && ctl.selectedSubRewardType == '3']"
           ng-click="ctl.setRewardType(1,3)">一个水果</a>
      </div>
      <div class="row group-item group-item-input no-border left-align">
        <p class="col col-20">人情卡</p>
        <button class="col col-33 button" style="text-align: center"
                ng-class="{true:'high-light',false:''}[ctl.selectedRewardType == '2' && ctl.selectedSubRewardType == '1']"
                ng-click="ctl.setRewardType(2,1)">欠一份人情</button>
        <button class="col col-33 button"
                ng-class="{true:'high-light',false:''}[ctl.selectedRewardType == '2' && ctl.selectedSubRewardType == '2']"
                ng-click="ctl.setRewardType(2,2)">欠一份大人情</button>
      </div>
    </div>

    <div class="row task-publish-default">
      <button class="button button-full" ng-click="ctl.publish()">
        发布
      </button>
    </div>
  </ion-content>
</ion-modal-view>
