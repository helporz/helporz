<style type="text/css">
  /*.topic-group {*/
  /*background-color: #D2E0E6;*/
  /*margin: 0px;*/
  /*}*/

  /*.group-header {*/
  /*font-size: 1em;*/
  /*height: 50%;*/
  /*line-height: normal;*/
  /*}*/

  /*.group-header-desc {*/
  /*font-size: 0.1em;*/
  /*height: 50%;*/
  /*line-height: normal;*/
  /*}*/

  /*.group-info {*/
  /*background-color: #FFFFFF;*/
  /*}*/

  /*.group-info img {*/
  /*width: 40px;*/
  /*height: 40px;*/
  /*}*/

  /*.public-notice {*/
  /*background-color: #FFFFFF;*/
  /*margin: 5px 0px;*/
  /*}*/

  /*.public-notice img {*/
  /*widht: 20px;*/
  /*height: 20px;*/
  /*}*/

  /*.sys-topic img {*/
  /*widht: 20px;*/
  /*height: 20px;*/
  /*}*/

  /*.topic-group .title-header {*/
  /*font-size: 0.8em;*/
  /*color: black;*/
  /*}*/

  /*.topic-group .title-desc {*/
  /*font-size: 0.2em;*/
  /*}*/

  /*.topic-group .sys-logo {*/
  /*background-color: red;*/
  /*vertical-align: middle;*/
  /*widht: 20px;*/
  /*height: 20px;*/
  /*}*/

  /*.topic-group .bgc {*/
  /*background-color: #f8f8f8;*/
  /*}*/

  /*.topic-group button {*/
  /*width: 100%;*/
  /*border-radius: 0px;*/
  /*}*/

  /*.topic-group .button-wrap {*/
  /*padding: 0px;*/

  /*}*/

  /*.topic-group .button-wrap:nth-last-child(n+1) {*/
  /*border-left: 1px solid #e4e5e7;*/
  /*}*/

  /*.topic-group .button-list-wrap {*/
  /*padding: 0px;*/
  /*border: 1px solid #e4e5e7;*/
  /*background-color: #e4e5e7;*/
  /*}*/

  /*.topic-group .item {*/
  /*padding: 0px;*/
  /*margin: 0px 0px 5px 0px;*/
  /*border: none;*/
  /*}*/

  /*.topic-group .list {*/
  /*padding: 0px;*/
  /*border: none;*/
  /*}*/

  /*.topic-group .row {*/
  /*padding: 0px;*/
  /*}*/

  /*.topic-group .content-wrap {*/
  /*padding: 10px 5px;*/

  /*}*/

  /*.topic-group .add-topic {*/
  /*/!*position:fixed;*!/*/
  /*position: absolute;*/
  /*/!*top:0;*!/*/
  /*/!*left: 0;*!/*/
  /*bottom: 30px;*/
  /*right: 30px;*/
  /*z-index: 3;*/
  /*/!*overflow-y:auto;*!/*/
  /*filter: alpha(opacity=50);*/
  /*-moz-opacity: 0.5;*/
  /*opacity: 0.5;*/
  /*font-size: 50px;*/
  /*color: red;*/
  /*}*/

  /*.user-topic img {*/

  /*}*/

  /*.user-topic .gender-logo {*/
  /*width: 8px;*/
  /*height: 8px;*/
  /*}*/

  /*.user-topic .user-logo {*/
  /*width: 30px;*/
  /*max-height: 30px;*/
  /*vertical-align: middle;*/
  /*}*/

</style>

<script id="topic-group-menu.html" type="text/ng-template">

</script>

<ion-view class="topic-group">

  <!--<div class="add-topic icon ion-ios-plus" icon-on="ion-ios-plus" ng-click="vm.go2AddTopic()">-->

  <!--</div>-->

  <ion-nav-title class="title title-center header-item">
    <div style="height: 100%">
      发现
      <!--<div class="group-header">-->
      <!--各路大侠一起聊-->
      <!--</div>-->

      <!--<div class="group-header-desc">-->
      <!--{{vm.topicGroup.name}}-->
      <!--</div>-->
    </div>
  </ion-nav-title>

  <ion-nav-buttons side="right">
    <!--<button class="button icon ion-ios-plus" ng-click="vm.showPopover($event)">-->

    <!--</button>-->
    <button class="button button-icon icon ion-ios-keypad" ng-click="vm.showPopover($event)"></button>
    <button class="button button-icon icon ho-chat-2" ng-click=""></button>
  </ion-nav-buttons>


  <ion-content class="has-header topic-group">
    <ion-refresher pulling-text="刷新中" on-refresh="vm.doRefresh()"></ion-refresher>

    <!--<div class="row group-info">-->
    <!--<div class="col col-center">-->
    <!--<img ng-src="{{vm.topicGroup.pic}}">-->
    <!--</div>-->

    <!--<div class="col col-offset-5 col-center col-75">-->
    <!--<p ng-bind-html="vm.topicGroup.description"></p>-->
    <!--</div>-->
    <!--</div>-->

    <!--<div class="public-notice">-->
    <!--<div class="row bgc">-->
    <!--<div class="col col-center col-10">-->
    <!--<img class="sys-logo" ng-src="img/playground/sys-notice-logo.png">-->
    <!--</div>-->

    <!--<div class="col col-center col-80 title-header" style="text-align: left">-->
    <!--版规公告-->
    <!--</div>-->

    <!--</div>-->

    <!--<div class="row content-wrap">-->
    <!--<p ng-bind-html="vm.topicGroup.publicNotice"></p>-->
    <!--</div>-->
    <!--</div>-->
    <div style="padding:0;margin: 0;height: auto;width: auto">
      <img src="img/playground/topic_group_head.png" style="width: 100%;display:block;">
    </div>

    <ion-list class="sys-topic">
      <ion-item ng-repeat="item in vm.sysTopicList | filter:{isShow:true}:true">

        <div class="row bgc">

          <div class="col col-center col-10">
            <img class="sys-logo" ng-src="img/playground/sys-topic-logo.png">
          </div>

          <div class=" col col-75 col-center title-header"
               ng-bind-html="item.name"></div>
          <div class="col col-5  icon ion-chevron-down col-top" ng-click="vm.moreOpt(item)"></div>
        </div>

        <div class="row content-wrap">
          <p ng-bind-html="item.description"></p>
        </div>


        <div class="row button-list-wrap">
          <div class="col col-32 button-wrap">
            <button class="button button-small icon "
                    ng-class="{true:'ion-ios-heart',false:'ion-ios-heart-outline '}[item.isFavourite == true]"
                    ng-click="vm.favouriteToggle(item)" style="color:red">
              {{item.favouriteCount}}
            </button>

            <!--<button class="button button-small icon " style="color: black"-->
            <!--ng-if="vm.isFavourite(item.id) == false" ng-click="vm.favourite(item.id)">-->
            <!--{{item.favouriteCount}}-->
            <!--</button>-->
          </div>
          <div class="col col-32 button-wrap">
            <button class="button button-small icon ion-ios-redo-outline" ng-click="vm.shareTopic(item)">分享
            </button>
          </div>
          <div class="col col-32 button-wrap">
            <button class="button button-small icon ion-ios-chatboxes-outline"
                    ng-click="vm.go2TopicDetail(item)">
              {{item.commentCount}}
            </button>
            <!--<button class="button button-small icon ion-ios-chatboxes-outline"-->
            <!--ng-if="item.commentCount == 0 "></button>-->
          </div>

        </div>
      </ion-item>
    </ion-list>

    <ion-list class="user-topic topic-detail">
      <ion-item class="topic-item" ng-repeat="item in vm.userTopicList | filter:{isShow:true}:true">
        <div class="row">

          <div class="avatar">
            <img class="user-logo" ng-src="{{item.poster.avatar}}" ng-click="vm.cb_gotoUser(item.poster.userId)">
          </div>

          <div class="user-info-panel">
            <div class="line-1">
              <span class="name">{{item.poster.nickname}}</span>

              <div class="gender" style="padding-left: 0;padding-right:0;">
                <span class="gender-icon  font-size-13"
                      ng-class="{true:'ho-gender-female color-woman',false:'ho-gender-male color-man '}[item.poster.gender == 1]">
                </span>

              </div>
              <div class="topic-impress-panel">
                <!--<span class="font-size-12 elem text-tag user-tag-color-{{ut.id -1 }}"-->
                <!--ng-repeat="ut in item.ui_tags">-->
                <!--{{ut.tagName}}-->
                <!--</span>-->

                <div class="impress-panel" ng-repeat="item in item.ui_tags">
                  <p class="elem text-tag toggle-on {{item.className}}">{{item.text}}</p>
                </div>
              </div>
              <div class="more icon ion-chevron-down"
                   style=""
                   ng-click="vm.moreOpt(item)">
              </div>
            </div>
            <div class="title-desc" style="">
              {{item.created|DateShow}} 来自 {{item.poster.orgList[0].name}}
            </div>

          </div>
        </div>

        <div class="div-line"></div>

        <div class="row content-tag-wrap" ng-if="item.tagInfoList != null && item.tagInfoList.length > 0">
          <div class="content-tag" ng-repeat="tag in item.tagInfoList"> #{{tag.name}}#</div>
        </div>

        <div class="content-wrap" ng-if="item.content.length>0">
          <p ng-bind-html="item.content" class="auto-wrap font-size-14" style=""></p>

        </div>

        <div class="row content-img-wrap" ng-if="item.imgList != null && item.imgList.length == 1 ">
          <img class="big-pic blank-right blank-bottom blank-top"
               ng-src="{{item.imgList[0]}}" ng-click="vm.showImgs(item.imgList)">
        </div>

        <div class="row content-img-wrap" ng-if="item.imgList != null && item.imgList.length == 2 ">
          <img class=" mid-pic blank-right blank-bottom" ng-repeat="imgSrc in item.imgList"
               ng-src="{{imgSrc}}" ng-click="vm.showImgs(item.imgList)">
        </div>

        <div class="row content-img-wrap" ng-if="item.imgList != null && item.imgList.length == 3 ">
          <img class=" mini-pic blank-right blank-bottom" ng-repeat="imgSrc in item.imgList"
               ng-src="{{imgSrc}}" ng-click="vm.showImgs(item.imgList)">
        </div>

        <div class="row content-img-wrap" ng-if="item.imgList != null && item.imgList.length == 4 ">
          <div class="col">
            <div class="row ">
              <img class="mini-pic  blank-right blank-bottom"
                   ng-src="{{item.imgList[0]}}" ng-click="vm.showImgs(item.imgList)">
              <img class="mini-pic  blank-right blank-bottom"
                   ng-src="{{item.imgList[1]}}" ng-click="vm.showImgs(item.imgList)">
            </div>
            <div class="row ">
              <img class="mini-pic  blank-right blank-bottom blank-top"
                   ng-src="{{item.imgList[2]}}" ng-click="vm.showImgs(item.imgList)">
              <img class="mini-pic  blank-right blank-bottom blank-top"
                   ng-src="{{item.imgList[3]}}" ng-click="vm.showImgs(item.imgList)">
            </div>
          </div>
        </div>

        <div class="row button-list-wrap">
          <div class="col col-25 button-wrap">
            <button class="button button-small icon ion-ios-eye-outline">
              {{item.accessCount}}
            </button>
          </div>

          <div class="col col-25 button-wrap">
            <button class="button button-small ho-chat-0"
                    ng-click="vm.go2TopicDetail(item)">
              {{item.commentCount}}
            </button>
          </div>
          <div class="col col-25 button-wrap">
            <button class="button button-small icon "
                    ng-class="{true:'ion-ios-heart favourite',false:'ion-ios-heart-outline '}[item.isFavourite == true]"
                    ng-click="vm.favouriteToggle(item)">
              {{item.favouriteCount}}
            </button>

          </div>
          <div class="col col-25 button-wrap">
            <button class="button button-small ho-share" ng-click="vm.shareTopic(item)">
              {{item.shareCount}}
            </button>
          </div>

        </div>

      </ion-item>
    </ion-list>

    <ion-infinite-scroll ng-if="vm.moreDataCanBeLoaded()" on-infinite="vm.loadMore()"
                         distance="1%"></ion-infinite-scroll>
  </ion-content>

</ion-view>
