<style type="text/css">
  .topic-group {
    background-color: #D2E0E6;
    margin: 0px;
  }

  .group-header {
    font-size: 1em;
    height: 50%;
    line-height: normal;
  }

  .group-header-desc {
    font-size: 0.1em;
    height: 50%;
    line-height: normal;
  }

  .group-info {
    background-color: #FFFFFF;
  }

  .group-info img {
    width: 40px;
    height: 40px;
  }

  .public-notice {
    background-color: #FFFFFF;
    margin: 5px 0px;
  }

  .public-notice img {
    widht: 20px;
    height: 20px;
  }

  .sys-topic img {
    widht: 20px;
    height: 20px;
  }

  .topic-group .title-header {
    font-size: 0.8em;
    color: black;
  }

  .topic-group .title-desc {
    font-size: 0.2em;
  }

  .topic-group .sys-logo {
    background-color: red;
    vertical-align: middle;
    widht: 20px;
    height: 20px;
  }

  .topic-group .bgc {
    background-color: #f8f8f8;
  }

  .topic-group button {
    width: 100%;
    border-radius: 0px;
  }

  .topic-group .button-wrap {
    padding: 0px;

  }

  .topic-group .button-wrap:nth-last-child(n+1) {
    border-left: 1px solid #e4e5e7;
  }

  .topic-group .button-list-wrap {
    padding: 0px;
    border: 1px solid #e4e5e7;
    background-color: #e4e5e7;
  }

  .topic-group .item {
    padding: 0px;
    margin: 0px 0px 5px 0px;
    border: none;
  }

  .topic-group .list {
    padding: 0px;
    border: none;
  }

  .topic-group .row {
    padding: 0px;
  }

  .topic-group .content-wrap {
    padding: 10px 5px;

  }

  .topic-group .add-topic {
    /*position:fixed;*/
    position:absolute;
    /*top:0;*/
    /*left: 0;*/
    bottom: 30px;
    right: 30px;
    z-index: 100;
    /*overflow-y:auto;*/
    filter:alpha(opacity=50);
    -moz-opacity:0.5;
    opacity:0.5;
    font-size:50px;
    color:red;
  }
  .user-topic img {

  }

  .user-topic .gender-logo {
    width: 8px;
    height: 8px;
  }

  .user-topic .user-logo {
    widht: 20px;
    height: 20px;
    vertical-align: middle;
  }

</style>

<!--<ion-nav-bar class="bar-helporz-theme topic-group">-->
  <!--<ion-nav-back-button>-->

  <!--</ion-nav-back-button>-->


<!--</ion-nav-bar>-->

<ion-header-bar align-title="center" class="bar-helporz-theme topic-group">
  <div class="buttons">
    <button class="button button-icon icon ion-arrow-left-c" ui-sref="playground-list">
    </button>
  </div>
  <!-- <div class="h1 title" ng-bind="message.name">微信</div> -->
  <div class="title title-center header-item">
    <div class="group-header">
      {{vm.topicGroup.name}}
    </div>

    <div class="group-header-desc">
      {{vm.topicGroup.description}}
    </div>
  </div>
  <div class="buttons">
  <button class="button button-icon icon ion-person"></button>
  </div>
</ion-header-bar>

<ion-view class="topic-group">
  <!--<ion-nav-title class="title title-center header-item">-->
    <!--<div style="height: 100%">-->
      <!--<div class="group-header">-->
        <!--{{vm.topicGroup.name}}-->
      <!--</div>-->

      <!--<div class="group-header-desc">-->
        <!--{{vm.topicGroup.description}}-->
      <!--</div>-->
    <!--</div>-->
  <!--</ion-nav-title>-->

  <div class="add-topic icon ion-ios-plus" icon-on="ion-ios-plus" ng-click="vm.go2AddTopic()">
    <!--<img ng-src="{{vm.topicGroup.pic}}">-->
  </div>
  <ion-content>

    <ion-refresher pulling-text="刷新中" on-refresh="vm.doRefresh()"></ion-refresher>


    <div class="row group-info">
      <div class="col col-center">
        <img ng-src="{{vm.topicGroup.pic}}">
      </div>


      <div class="col col-offset-5 col-center col-75">
        <p ng-bind-html="vm.topicGroup.description"></p>
      </div>
    </div>

    <div class="public-notice">
      <div class="row bgc">
        <div class="col col-center col-10">
          <img class="sys-logo" ng-src="img/playground/sys-notice-logo.png">
        </div>

        <div class="col col-center col-80 title-header" style="text-align: left">
          版规公告
        </div>

      </div>

      <div class="row content-wrap">
        <p ng-bind-html="vm.topicGroup.publicNotice"></p>
      </div>
    </div>

    <ion-list class="sys-topic">
      <ion-item ng-repeat="item in vm.sysTopicList">

        <div class="row bgc">

          <div class="col col-center col-10">
            <img class="sys-logo" ng-src="img/playground/sys-topic-logo.png">
          </div>

          <div class=" col col-75 col-center title-header"
               ng-bind-html="item.name"></div>


          <div class="col  icon ion-chevron-down col-top" ng-click="vm.moreOpt(item.id)"></div>
        </div>

        <div class="row content-wrap">
          <p ng-bind-html="item.description"></p>
        </div>


        <div class="row button-list-wrap">
          <div class="col col-32 button-wrap">
            <button class="button button-small icon " ng-class="{true:'ion-ios-heart-outline ',false:'ion-ios-heart'}[vm.isFavourite(item.id) == true]"
                    ng-click="vm.favourite(item.id)" style="color:red">
              {{item.favouriteCount}}
            </button>

            <!--<button class="button button-small icon " style="color: black"-->
                    <!--ng-if="vm.isFavourite(item.id) == false" ng-click="vm.favourite(item.id)">-->
              <!--{{item.favouriteCount}}-->
            <!--</button>-->
          </div>
          <div class="col col-32 button-wrap">
            <button class="button button-small icon ion-ios-redo-outline" ng-click="vm.shareTopic(item.id)">分享</button>
          </div>
          <div class="col col-32 button-wrap">
            <button class="button button-small icon ion-ios-chatboxes-outline" ng-click="vm.go2TopicDetail(item.id)">
              {{item.commentCount}}
            </button>
            <!--<button class="button button-small icon ion-ios-chatboxes-outline"-->
                    <!--ng-if="item.commentCount == 0 "></button>-->
          </div>

        </div>
      </ion-item>
    </ion-list>

    <ion-list class="user-topic">
      <ion-item ng-repeat="item in vm.userTopicList">
        <div class="row">

          <div class="col col-10 col-center">
            <img class="user-logo" ng-src="{{item.postor.pic}}">
          </div>

          <div class="col col-center col-75">
            <p class="title-header">
              {{item.postor.name}}<img class="gender-logo" ng-src="img/user/gender-{{item.postor.gender}}.png">
            </p>

            <p class="title-desc">
              {{item.created}} 来自 {{item.postor.org.name}}
            </p>
          </div>
          <div class="col  icon ion-chevron-down col-top" ng-click="vm.moreOpt(item.id)"></div>
        </div>

        <div class="row content-wrap">
          <p ng-bind-html="item.description"></p>

        </div>
        <div class="row content-wrap" ng-if="item.imgList != null || item.imgList != ''">
          <img class="topics bottom-bordered" ng-repeat="imgSrc in item.imgList"
               ng-src="{{imgSrc}}">
        </div>

        <div class="row button-list-wrap">
          <div class="col col-32 button-wrap">
            <button class="button button-small icon " ng-class="{true:'ion-ios-heart-outline ',false:'ion-ios-heart'}[vm.isFavourite(item.id) == true]"
                    ng-click="vm.favourite(item.id)" style="color:red">
              {{item.favouriteCount}}
            </button>

            <!--<button class="button button-small icon " style="color: black"-->
            <!--ng-if="vm.isFavourite(item.id) == false" ng-click="vm.favourite(item.id)">-->
            <!--{{item.favouriteCount}}-->
            <!--</button>-->
          </div>
          <div class="col col-32 button-wrap">
            <button class="button button-small icon ion-ios-redo-outline" ng-click="vm.shareTopic(item.id)">分享</button>
          </div>
          <div class="col col-32 button-wrap">
            <button class="button button-small icon ion-ios-chatboxes-outline" ng-click="vm.go2TopicDetail(item.id)">
              {{item.commentCount}}
            </button>
            <!--<button class="button button-small icon ion-ios-chatboxes-outline"-->
            <!--ng-if="item.commentCount == 0 "></button>-->
          </div>

        </div>
      </ion-item>
    </ion-list>

    <ion-infinite-scroll  on-infinite="vm.loadMore()" distance="1%" ></ion-infinite-scroll>
  </ion-content>
</ion-view>
