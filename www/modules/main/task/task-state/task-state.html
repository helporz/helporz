<style type="text/css">
  ._desc-p {
    margin-bottom: 0 !important;
  }
  /*._accept-bt {*/
    /*bottom: 22px !important;*/
  /*}*/
</style>

<ion-view  view-title="任务状态" >
  <ion-content class="task-state topics">
    <div class="row nopadding bottom-bordered bottom-bordered-small">
      <div class="content-left">
        <img class="task-img" src={{vm.task.icon}} reset-img>

        <p lass="task-type">{{vm.task.typeName}}</p>
      </div>
      <div class="content-right">
        <div class="row user-panel nopadding">
          <img class="avatar" ng-src={{vm.task.poster.avator}}>

          <div class="user-detail">
            <div class="top">
              <div class="line-1">
                <p class="name">{{vm.task.poster.nickname}}</p>
                <i class="gender-icon ho-gender-female color-woman font-size-12"></i>
              </div>

              <p class="time">{{vm.task.ext_createTime}}</p>
            </div>
            <div class="bottom">
              <div class="impress-panel" ng-repeat="item in vm.task.ui_tags">
                <p class="elem text-tag toggle-on {{item.className}}">{{item.text}}</p>
              </div>
            </div>
          </div>
        </div>

        <div class="div-line-1"></div>

        <div class="summary-panel">
          <p class="summary">{{vm.task.summary}}</p>

          <div class="appendix">
            <i class="icon ion-ios-clock-outline font-size-13 deadline "></i>

            <p class="_desc-p">{{vm.task.deadline}}截止</p>
          </div>
          <div class="appendix">
            <i class="icon ho-location font-size-13 address"></i>

            <p class="_desc-p">{{vm.task.pubLocation}}</p>
          </div>
          <div>
            <p class="thank">感谢</p>

            <p class="thank-what text-tag tabs-color-light">{{vm.task.rewardDescription}} </p>
          </div>
        </div>

        <!--<div class="div-line-2"></div>-->

        <!--<div class="bottom-panel">-->
          <!--<div>-->
            <!--<i class="elem2 icon ho-chat-0 font-size-13"></i>-->
            <!--<span class="count">{{vm.task.commentCount}}</span>-->
          <!--</div>-->
          <!--<div>-->
            <!--<i class="elem2 icon ho-share font-size-13"></i>-->
            <!--<span class="count">0</span>-->
          <!--</div>-->
          <!--<button class="button-accept  button-light-red _accept-bt" ng-click="">-->
            <!--接单-->
          <!--</button>-->
        <!--</div>-->
      </div>
    </div>

    <div class="task-dot-ctn">

      <div class="dot dot-0">
        <div class="icon" ng-class="{
              'dot-small':vm.task.ui_tagState1==0, 'dot-big':vm.task.ui_tagState1>0, 'offset-right':vm.task.ui_tagState1>0,
              'success-bg':vm.task.ui_tagState1==0, 'success':vm.task.ui_tagState1>1, 'failed':vm.task.ui_tagState1==1,
                'ion-ios-refresh':vm.task.ui_tagState1==2,'ion-checkmark-circled':vm.task.ui_tagState1==3,'ion-close-circled':vm.task.ui_tagState1==1}"></div>
      </div>

      <div class="div-line-0" ng-class="{'div-line-pending':vm.task.ui_tagState2==-1, 'div-line-failed':vm.task.ui_tagState2==1,
            'div-line-success':vm.task.ui_tagState2==0 || vm.task.ui_tagState2>1}"></div>

      <div class="dot dot-1">
        <div class="icon" ng-class="{'dot-small':vm.task.ui_tagState2<=0, 'dot-big':vm.task.ui_tagState2>0,
              'pending-bg':vm.task.ui_tagState2==-1, 'success-bg':vm.task.ui_tagState2==0, 'failed':vm.task.ui_tagState2==1,
              'success':vm.task.ui_tagState2>1,
                   'ion-ios-refresh':vm.task.ui_tagState2==2, 'ion-checkmark-circled':vm.task.ui_tagState2==3,
                    'ion-close-circled':vm.task.ui_tagState2==1}"></div>
      </div>

      <div class="div-line-1"
           ng-class="{'div-line-pending':vm.task.ui_tagState3==-1,'div-line-failed':vm.task.ui_tagState3==1, 'div-line-success':vm.task.ui_tagState3>1}"></div>

      <div class="dot dot-2">
        <div class="icon" ng-class="{'dot-small':vm.task.ui_tagState3==-1, 'dot-big':vm.task.ui_tagState3>0,
               'offset-left':vm.task.ui_tagState3>0,
               'pending-bg':vm.task.ui_tagState3==-1, 'failed':vm.task.ui_tagState3==1, 'success':vm.task.ui_tagState3>1,
                  'ion-close-circled':vm.task.ui_tagState3==1, 'ion-ios-refresh':vm.task.ui_tagState3==2,
                  'ion-checkmark-circled':vm.task.ui_tagState3==3 }"></div>
      </div>
    </div>
    </div>

    <div class="task-desc-ctn bottom-bordered bottom-bordered-small">
      <p class="desc desc-0">{{vm.task.ui_tagText1}}</p>

      <p class="desc desc-1">{{vm.task.ui_tagText2}}</p>

      <p class="desc desc-2">{{vm.task.ui_tagText3}}</p>
    </div>


    <div class="comment-board bottom-bordered bottom-bordered-small" ng-hide ng-show="vm.showOtherComment==true">
      <p class="title"><b>对方点评</b></p>

      <div class="div-text-panel">
        <div class="left-line"></div>
        <p class="mid-text">满意度与印象点评</p>
        <div class="right-line"></div>
      </div>

      <div class="star-panel">
        <five-stars value={{vm.ui_otherCommentLevel}}></five-stars>
      </div>

      <div class="impress-panel" ng-repeat="item in vm.ui_myCommentTags">
        <p class="text-tag toggle-on {{item.className}}">{{item.text}}</p>
      </div>

      <div class="div-text-panel">
        <div class="left-line"></div>
        <p class="mid-text">留言</p>
        <div class="right-line"></div>
      </div>

      <div class="comment-panel">
        {{vm.ui_otherComment}}
      </div>
    </div>

    <div class="comment-board bottom-bordered bottom-bordered-small" ng-hide ng-show="vm.showMyComment==true">
      <p class="title"><b>我的点评</b></p>

      <div class="div-text-panel">
        <div class="left-line"></div>
        <p class="mid-text">满意度与印象点评</p>
        <div class="right-line"></div>
      </div>

      <div class="star-panel">
        <five-stars value={{vm.ui_myCommentLevel}}>></five-stars>
      </div>

      <div class="impress-panel" ng-repeat="item in vm.ui_otherCommentTags">
        <p class="text-tag toggle-on {{item.className}}">{{item.text}}</p>
      </div>

      <div class="div-text-panel">
        <div class="left-line"></div>
        <p class="mid-text">留言</p>
        <div class="right-line"></div>
      </div>

      <div class="comment-panel">
        {{vm.task.ui_myComment}}
      </div>
    </div>

  </ion-content>
</ion-view>
