!function(){"use strict";function t(t,e,l,a,i,s,r){var o=t.vm={};e.fromTemplateUrl("modules/main/task-publish/modal-list.html",{scope:t,animation:"slide-in-up"}).then(function(e){t.vm.publishListModal=e,l.setListModal(e)}),t.vm.showPublishList=function(){t.vm.publishListModal.show()},o.ui_taskBadge=0,o.ui_meBadge=0,t.$on("$ionicView.enter",function(){i.add(0,"main",function(){var e=a.cache;e.nm_main_changed&&(e.nm_main_changed=!1,o.ui_taskBadge=e.nm_acceptGoing.length+e.nm_acceptFinish.length+e.nm_postGoing.length+e.nm_postFinish.length+e.nm_comment.length,o.ui_meBadge=e.nm_follow.length,r(function(){t.$apply()}))})}),t.$on("$ionicView.leave",function(){})}function e(t,e,l){t.state("main",{url:"/main","abstract":!0,templateUrl:"modules/main/main.html",controller:"mainController"}).state("main.near",{url:"/near",views:{near:{templateUrl:"modules/main/near/near.html",controller:"mainNearCtrl"}}}).state("main.task-detail",{url:"/near/task-detail/:id",views:{near:{templateUrl:"modules/main/near/task-detail/task-detail.html",controller:"mainNearTaskDetailCtrl"}}}).state("main.near_user-info",{url:"/near/user-info/:id",views:{near:{templateUrl:"modules/main/details/user-info/user-info.html",controller:"mainUserInfoCtrl"}}}).state("main.topic-group",{url:"/topic-group",views:{"topic-group":{templateUrl:"modules/main/playground/templates/topic-group.html",controller:"topicGroupController"}}}).state("main.topic-group_user-info",{url:"/topic-group/user-info/:id",views:{"topic-group":{templateUrl:"modules/main/details/user-info/user-info.html",controller:"mainUserInfoCtrl"}}}).state("main.topic-group_topic-detail",{url:"/topic-group/topic-detail/{topicId}",views:{"topic-group":{templateUrl:"modules/main/playground/templates/topic-detail.html",controller:"topicDetailController"}}}).state("main.topic-group_own-topic-list",{url:"/topic-group/own-topic-list",views:{"topic-group":{templateUrl:"modules/main/playground/templates/own-topic-list.html",controller:"ownTopicListController"}}}).state("main.topic-group_collection-topic-list",{url:"/topic-group/collection-topic-list",views:{"topic-group":{templateUrl:"modules/main/playground/templates/collection-topic-list.html",controller:"collectionTopicListController"}}}).state("main.topic-group_my-comment-list",{url:"/topic-group/my-comment-list",views:{"topic-group":{templateUrl:"modules/main/playground/templates/my-comment-list.html",controller:"myCommentListController"}}}).state("main.topic-group_my-message-list",{url:"/topic-group/my-message-list",views:{"topic-group":{templateUrl:"modules/main/playground/templates/my-message-list.html",controller:"myMessageListController"}}}).state("main.topic-group_comment-session",{url:"/topic-group/comment-session/{sessionId}",views:{"topic-group":{templateUrl:"modules/main/playground/templates/comment-session.html",controller:"commentSessionController"}}}).state("main.me",{url:"/me",views:{me:{templateUrl:"modules/main/me/me.html",controller:"mainMeCtrl"}}}).state("main.im",{url:"/me/im",views:{me:{templateUrl:"modules/im/list.html",controller:"imMessageListController"}}}).state("main.near_im",{url:"/near/im",views:{near:{templateUrl:"modules/im/list.html",controller:"imMessageListController"}}}).state("main.task_im",{url:"/task/im",views:{task:{templateUrl:"modules/im/list.html",controller:"imMessageListController"}}}).state("main.topic-group_im",{url:"/topic-group/im",views:{"topic-group":{templateUrl:"modules/im/list.html",controller:"imMessageListController"}}}).state("main.im-detail",{url:"/me/im-detail/{cid}",views:{me:{templateUrl:"modules/im/detail.html",controller:"imMessageDetailController"}}}).state("main.me_im-detail",{url:"/me/im-detail/{cid}",views:{me:{templateUrl:"modules/im/detail.html",controller:"imMessageDetailController"}}}).state("main.near_im-detail",{url:"/near/im-detail/{cid}",views:{near:{templateUrl:"modules/im/detail.html",controller:"imMessageDetailController"}}}).state("main.topic-group_im-detail",{url:"/topic-group/im-detail/{cid}",views:{"topic-group":{templateUrl:"modules/im/detail.html",controller:"imMessageDetailController"}}}).state("main.task_im-detail",{url:"/task/im-detail/{cid}",views:{task:{templateUrl:"modules/im/detail.html",controller:"imMessageDetailController"}}}).state("main.me_user-info",{url:"/me/:id",views:{me:{templateUrl:"modules/main/details/user-info/user-info.html",controller:"mainUserInfoCtrl"}}}).state("main.edit",{url:"/me/edit",views:{me:{templateUrl:"modules/main/me/edit/edit.html",controller:"mainEditCtrl"}}}).state("main.setting",{url:"/me/setting",views:{me:{templateUrl:"modules/main/me/setting/setting.html",controller:"mainSettingCtrl"}}}).state("main.edit-sheet",{url:"/me/edit-sheet",views:{me:{templateUrl:"modules/main/details/edit-sheet/edit-sheet.html",controller:"mainEditSheetCtrl"}}}).state("main.about",{url:"/me/setting/about",views:{me:{templateUrl:"modules/main/details/about/about.html"}}}).state("main.me_user-tasks",{url:"/me/user-tasks/{userId}/{nickname}",views:{me:{templateUrl:"modules/main/details/user-tasks/user-tasks.html",controller:"mainUserTasksCtrl"}}}).state("main.near_user-tasks",{url:"/near/user-tasks/{userId}/{nickname}",views:{near:{templateUrl:"modules/main/details/user-tasks/user-tasks.html",controller:"mainUserTasksCtrl"}}}).state("main.topic-group_user-tasks",{url:"/topic-group/user-tasks/{userId}/{nickname}",views:{"topic-group":{templateUrl:"modules/main/details/user-tasks/user-tasks.html",controller:"mainUserTasksCtrl"}}}).state("main.task_user-tasks",{url:"/task/user-tasks/{userId}/{nickname}",views:{task:{templateUrl:"modules/main/details/user-tasks/user-tasks.html",controller:"mainUserTasksCtrl"}}}).state("main.me_user-tasks_task-detail",{url:"/me/user-tasks/task-detail/:id",views:{me:{templateUrl:"modules/main/near/task-detail/task-detail.html",controller:"mainNearTaskDetailCtrl"}}}).state("main.near_user-tasks_task-detail",{url:"/near/user-tasks/task-detail/:id",views:{near:{templateUrl:"modules/main/near/task-detail/task-detail.html",controller:"mainNearTaskDetailCtrl"}}}).state("main.topic-group_user-tasks_task-detail",{url:"/topic-group/user-tasks/task-detail/:id",views:{"topic-group":{templateUrl:"modules/main/near/task-detail/task-detail.html",controller:"mainNearTaskDetailCtrl"}}}).state("main.task_user-tasks_task-detail",{url:"/task/user-tasks/task-detail/:id",views:{task:{templateUrl:"modules/main/near/task-detail/task-detail.html",controller:"mainNearTaskDetailCtrl"}}}).state("main.task",{url:"/task",views:{task:{templateUrl:"modules/main/task/task.html",controller:"mainTaskCtrl"}}}).state("main.task_user-info",{url:"/task/user-info/:id",views:{task:{templateUrl:"modules/main/details/user-info/user-info.html",controller:"mainUserInfoCtrl"}}}).state("main.comment",{url:"/task/comment/:desc",views:{task:{templateUrl:"modules/main/task/comment/comment.html",controller:"mainCommentCtrl"}}}).state("main.task-state",{url:"/task/task-state/:id",views:{task:{templateUrl:"modules/main/task/task-state/task-state.html",controller:"mainTaskTaskStateCtrl"}}}).state("main.task_task-detail",{url:"/task/task-detail/:id",views:{task:{templateUrl:"modules/main/near/task-detail/task-detail.html",controller:"mainNearTaskDetailCtrl"}}}),l.tabs.position("bottom")}function l(t,e,l,a,i,s){e.registerBackButtonAction(function(e){return e.preventDefault(),t.info("current location:"+i.path()),"/main/near"===i.path()||"/main/me"===i.path()||"/main/task"===i.path()||"/main/topic-group"===i.path()||"/login"===i.path()?ionic.Platform.exitApp():s.backView()?(console.log("currentView:",s.currentView),s.goBack()):ionic.Platform.exitApp(),!1},101)}angular.module("main",["ionic","main.near","main.post","main.task","main.me","com.helporz.task.publish","impress.utils.service","com.helporz.playground","com.helporz.im","interval.service"]).config(e).controller("mainController",t).run(l),t.$inject=["$scope","$ionicModal","taskPublishModalService","taskNetService","intervalCenter","$ionicTabsDelegate","$timeout"],e.$inject=["$stateProvider","$urlRouterProvider","$ionicConfigProvider"],l.$inject=["$log","$ionicPlatform","$ionicPopup","$rootScope","$location","$ionicHistory"]}();