/**
 * Created by Midstream on 16/3/29.
 */

(function () {
  'use strict';

  angular.module('info.schoolSearch')
    .controller('schoolSearchCtrl', ['$state', '$scope', '$ionicLoading', '$ionicPopup', '$ionicScrollDelegate', '$ionicActionSheet',
      '$ionicHistory', '$timeout', '$interval', 'userNetService',
      'errorCodeService', 'schoolSelectService', schoolSearchCtrl])

  function schoolSearchCtrl($state, $scope, $ionicLoading, $ionicPopup, $ionicScrollDelegate, $ionicActionSheet,
                            $ionicHistory, $timeout, $interval, userNetService, errorCodeService, schoolSelectService) {
    var vm = $scope.vm = {};

    vm.schoolsInfo = [
      {name:'华中科技大学'},
      {name:'国防科技大学'},
      {name:'中国农业大学'},
      {name:'中国科学院'},
      {name:'四川农业大学'},
      {name:'香港大学'},
      {name:'华中农业大学'},
      {name:'中国电子科技大学'},
      {name:'武汉大学'},
      {name:'电子工业大学'},
      {name:'武汉工业大学'},
      {name:'中国社科大学'},
      {name:'湖北华工学院'},
      {name:'中国油料作物研究所'},
      {name:'武汉科技大学'},
      {name:'中国电子科技大学'},
      {name:'武汉大学'},
      {name:'电子工业大学'},
      {name:'武汉工业大学'},
      {name:'中国社科大学'},
      {name:'湖北华工学院'},
      {name:'中国油料作物研究所'},
      {name:'武汉科技大学'},
      {name:'中国电子科技大学'},
      {name:'武汉大学'},
      {name:'电子工业大学'},
      {name:'武汉工业大学'},
      {name:'中国社科大学'},
      {name:'湖北华工学院'},
      {name:'中国油料作物研究所'},
      {name:'武汉科技大学'},
      {name:'中国电子科技大学'},
      {name:'武汉大学'},
      {name:'电子工业大学'},
      {name:'武汉工业大学'},
      {name:'中国社科大学'},
      {name:'湖北华工学院'},
      {name:'中国油料作物研究所'},
      {name:'武汉科技大学'},
      {name:'中国电子科技大学'},
      {name:'武汉大学'},
      {name:'电子工业大学'},
      {name:'武汉工业大学'},
      {name:'中国社科大学'},
      {name:'湖北华工学院'},
      {name:'中国油料作物研究所'},
      {name:'武汉科技大学'},
      {name:'中国电子科技大学'},
      {name:'武汉大学'},
      {name:'电子工业大学'},
      {name:'武汉工业大学'},
      {name:'中国社科大学'},
      {name:'湖北华工学院'},
      {name:'中国油料作物研究所'},
      {name:'武汉科技大学'},
      {name:'中国电子科技大学'},
      {name:'武汉大学'},
      {name:'电子工业大学'},
      {name:'武汉工业大学'},
      {name:'中国社科大学'},
      {name:'湖北华工学院'},
      {name:'中国油料作物研究所'},
      {name:'武汉科技大学'},
      {name:'中国电子科技大学'},
      {name:'武汉大学'},
      {name:'电子工业大学'},
      {name:'武汉工业大学'},
      {name:'中国社科大学'},
      {name:'湖北华工学院'},
      {name:'中国油料作物研究所'},
      {name:'武汉科技大学'},
      {name:'中国电子科技大学'},
      {name:'武汉大学'},
      {name:'电子工业大学'},
      {name:'武汉工业大学'},
      {name:'中国社科大学'},
      {name:'湖北华工学院'},
      {name:'中国油料作物研究所'},
      {name:'武汉科技大学'},
      {name:'中国电子科技大学'},
      {name:'武汉大学'},
      {name:'电子工业大学'},
      {name:'武汉工业大学'},
      {name:'中国社科大学'},
      {name:'湖北华工学院'},
      {name:'中国油料作物研究所'},
      {name:'武汉科技大学'},
      {name:'中国电子科技大学'},
      {name:'武汉大学'},
      {name:'电子工业大学'},
      {name:'武汉工业大学'},
      {name:'中国社科大学'},
      {name:'湖北华工学院'},
      {name:'中国油料作物研究所'},
      {name:'武汉科技大学'},
      {name:'中国电子科技大学'},
      {name:'武汉大学'},
      {name:'电子工业大学'},
      {name:'武汉工业大学'},
      {name:'中国社科大学'},
      {name:'湖北华工学院'},
      {name:'中国油料作物研究所'},
      {name:'武汉科技大学'},
      {name:'中国电子科技大学'},
      {name:'武汉大学'},
      {name:'电子工业大学'},
      {name:'武汉工业大学'},
      {name:'中国社科大学'},
      {name:'湖北华工学院'},
      {name:'中国油料作物研究所'},
      {name:'武汉科技大学'},
      {name:'中国电子科技大学'},
      {name:'武汉大学'},
      {name:'电子工业大学'},
      {name:'武汉工业大学'},
      {name:'中国社科大学'},
      {name:'湖北华工学院'},
      {name:'中国油料作物研究所'},
      {name:'武汉科技大学'},{name:'中国电子科技大学'},
      {name:'武汉大学'},
      {name:'电子工业大学'},
      {name:'武汉工业大学'},
      {name:'中国社科大学'},
      {name:'湖北华工学院'},
      {name:'中国油料作物研究所'},
      {name:'武汉科技大学'},
      {name:'中国电子科技大学'},
      {name:'武汉大学'},
      {name:'电子工业大学'},
      {name:'武汉工业大学'},
      {name:'中国社科大学'},
      {name:'湖北华工学院'},
      {name:'中国油料作物研究所'},
      {name:'武汉科技大学'},
      {name:'中国电子科技大学'},
      {name:'武汉大学'},
      {name:'电子工业大学'},
      {name:'武汉工业大学'},
      {name:'中国社科大学'},
      {name:'湖北华工学院'},
      {name:'中国油料作物研究所'},
      {name:'武汉科技大学'},
      {name:'中国电子科技大学'},
      {name:'武汉大学'},
      {name:'电子工业大学'},
      {name:'武汉工业大学'},
      {name:'中国社科大学'},
      {name:'湖北华工学院'},
      {name:'中国油料作物研究所'},
      {name:'武汉科技大学'},
      {name:'中国电子科技大学'},
      {name:'武汉大学'},
      {name:'电子工业大学'},
      {name:'武汉工业大学'},
      {name:'中国社科大学'},
      {name:'湖北华工学院'},
      {name:'中国油料作物研究所'},
      {name:'武汉科技大学'},
      {name:'中国电子科技大学'},
      {name:'武汉大学'},
      {name:'电子工业大学'},
      {name:'武汉工业大学'},
      {name:'中国社科大学'},
      {name:'湖北华工学院'},
      {name:'中国油料作物研究所'},
      {name:'武汉科技大学'},
      {name:'中国电子科技大学'},
      {name:'武汉大学'},
      {name:'电子工业大学'},
      {name:'武汉工业大学'},
      {name:'中国社科大学'},
      {name:'湖北华工学院'},
      {name:'中国油料作物研究所'},
      {name:'武汉科技大学'},{name:'中国电子科技大学'},
      {name:'武汉大学'},
      {name:'电子工业大学'},
      {name:'武汉工业大学'},
      {name:'中国社科大学'},
      {name:'湖北华工学院'},
      {name:'中国油料作物研究所'},
      {name:'武汉科技大学'},
      {name:'中国电子科技大学'},
      {name:'武汉大学'},
      {name:'电子工业大学'},
      {name:'武汉工业大学'},
      {name:'中国社科大学'},
      {name:'湖北华工学院'},
      {name:'中国油料作物研究所'},
      {name:'武汉科技大学'},
      {name:'中国电子科技大学'},
      {name:'武汉大学'},
      {name:'电子工业大学'},
      {name:'武汉工业大学'},
      {name:'中国社科大学'},
      {name:'湖北华工学院'},
      {name:'中国油料作物研究所'},
      {name:'武汉科技大学'},
      {name:'中国电子科技大学'},
      {name:'武汉大学'},
      {name:'电子工业大学'},
      {name:'武汉工业大学'},
      {name:'中国社科大学'},
      {name:'湖北华工学院'},
      {name:'中国油料作物研究所'},
      {name:'武汉科技大学'},
      {name:'华中科技大学'},
      {name:'国防科技大学'},
      {name:'中国农业大学'},
      {name:'中国科学院'},
      {name:'四川农业大学'},
      {name:'香港大学'},
      {name:'华中农业大学'},
      {name:'中国电子科技大学'},
      {name:'武汉大学'},
      {name:'电子工业大学'},
      {name:'武汉工业大学'},
      {name:'中国社科大学'},
      {name:'湖北华工学院'},
      {name:'中国油料作物研究所'},
      {name:'武汉科技大学'},
      {name:'中国电子科技大学'},
      {name:'武汉大学'},
      {name:'电子工业大学'},
      {name:'武汉工业大学'},
      {name:'中国社科大学'},
      {name:'湖北华工学院'},
      {name:'中国油料作物研究所'},
      {name:'武汉科技大学'},
      {name:'中国电子科技大学'},
      {name:'武汉大学'},
      {name:'电子工业大学'},
      {name:'武汉工业大学'},
      {name:'中国社科大学'},
      {name:'湖北华工学院'},
      {name:'中国油料作物研究所'},
      {name:'武汉科技大学'},
      {name:'中国电子科技大学'},
      {name:'华中科技大学'},
      {name:'国防科技大学'},
      {name:'中国农业大学'},
      {name:'中国科学院'},
      {name:'四川农业大学'},
      {name:'香港大学'},
      {name:'华中农业大学'},
      {name:'中国电子科技大学'},
      {name:'武汉大学'},
      {name:'电子工业大学'},
      {name:'武汉工业大学'},
      {name:'中国社科大学'},
      {name:'湖北华工学院'},
      {name:'中国油料作物研究所'},
      {name:'武汉科技大学'},
      {name:'中国电子科技大学'},
      {name:'武汉大学'},
      {name:'电子工业大学'},
      {name:'武汉工业大学'},
      {name:'中国社科大学'},
      {name:'湖北华工学院'},
      {name:'中国油料作物研究所'},
      {name:'武汉科技大学'},
      {name:'中国电子科技大学'},
      {name:'武汉大学'},
      {name:'电子工业大学'},
      {name:'武汉工业大学'},
      {name:'中国社科大学'},
      {name:'湖北华工学院'},
      {name:'中国油料作物研究所'},
      {name:'武汉科技大学'},
      {name:'中国电子科技大学'},
      {name:'华中科技大学'},
      {name:'国防科技大学'},
      {name:'中国农业大学'},
      {name:'中国科学院'},
      {name:'四川农业大学'},
      {name:'香港大学'},
      {name:'华中农业大学'},
      {name:'中国电子科技大学'},
      {name:'武汉大学'},
      {name:'电子工业大学'},
      {name:'武汉工业大学'},
      {name:'中国社科大学'},
      {name:'湖北华工学院'},
      {name:'中国油料作物研究所'},
      {name:'武汉科技大学'},
      {name:'中国电子科技大学'},
      {name:'武汉大学'},
      {name:'电子工业大学'},
      {name:'武汉工业大学'},
      {name:'中国社科大学'},
      {name:'湖北华工学院'},
      {name:'中国油料作物研究所'},
      {name:'武汉科技大学'},
      {name:'中国电子科技大学'},
      {name:'武汉大学'},
      {name:'电子工业大学'},
      {name:'武汉工业大学'},
      {name:'中国社科大学'},
      {name:'湖北华工学院'},
      {name:'中国油料作物研究所'},
      {name:'武汉科技大学'},
      {name:'中国电子科技大学'},
      {name:'华中科技大学'},
      {name:'国防科技大学'},
      {name:'中国农业大学'},
      {name:'中国科学院'},
      {name:'四川农业大学'},
      {name:'香港大学'},
      {name:'华中农业大学'},
      {name:'中国电子科技大学'},
      {name:'武汉大学'},
      {name:'电子工业大学'},
      {name:'武汉工业大学'},
      {name:'中国社科大学'},
      {name:'湖北华工学院'},
      {name:'中国油料作物研究所'},
      {name:'武汉科技大学'},
      {name:'中国电子科技大学'},
      {name:'武汉大学'},
      {name:'电子工业大学'},
      {name:'武汉工业大学'},
      {name:'中国社科大学'},
      {name:'湖北华工学院'},
      {name:'中国油料作物研究所'},
      {name:'武汉科技大学'},
      {name:'中国电子科技大学'},
      {name:'武汉大学'},
      {name:'电子工业大学'},
      {name:'武汉工业大学'},
      {name:'中国社科大学'},
      {name:'湖北华工学院'},
      {name:'中国油料作物研究所'},
      {name:'武汉科技大学'},
      {name:'中国电子科技大学'},
      {name:'华中科技大学'},
      {name:'国防科技大学'},
      {name:'中国农业大学'},
      //{name:'中国科学院'},
      //{name:'四川农业大学'},
      //{name:'香港大学'},
      //{name:'华中农业大学'},
      //{name:'中国电子科技大学'},
      //{name:'武汉大学'},
      //{name:'电子工业大学'},
      //{name:'武汉工业大学'},
      //{name:'中国社科大学'},
      //{name:'湖北华工学院'},
      //{name:'中国油料作物研究所'},
      //{name:'武汉科技大学'},
      //{name:'中国电子科技大学'},
      //{name:'武汉大学'},
      //{name:'电子工业大学'},
      //{name:'武汉工业大学'},
      //{name:'中国社科大学'},
      //{name:'湖北华工学院'},
      //{name:'中国油料作物研究所'},
      //{name:'武汉科技大学'},
      //{name:'中国电子科技大学'},
      //{name:'武汉大学'},
      //{name:'电子工业大学'},
      //{name:'武汉工业大学'},
      //{name:'中国社科大学'},
      //{name:'湖北华工学院'},
      //{name:'中国油料作物研究所'},
      //{name:'武汉科技大学'},
      //{name:'中国电子科技大学'},
      //{name:'华中科技大学'},
      //{name:'国防科技大学'},
      //{name:'中国农业大学'},
      //{name:'中国科学院'},
      //{name:'四川农业大学'},
      //{name:'香港大学'},
      //{name:'华中农业大学'},
      //{name:'中国电子科技大学'},
      //{name:'武汉大学'},
      //{name:'电子工业大学'},
      //{name:'武汉工业大学'},
      //{name:'中国社科大学'},
      //{name:'湖北华工学院'},
      //{name:'中国油料作物研究所'},
      //{name:'武汉科技大学'},
      //{name:'中国电子科技大学'},
      //{name:'武汉大学'},
      //{name:'电子工业大学'},
      //{name:'武汉工业大学'},
      //{name:'中国社科大学'},
      //{name:'湖北华工学院'},
      //{name:'中国油料作物研究所'},
      //{name:'武汉科技大学'},
      //{name:'中国电子科技大学'},
      //{name:'武汉大学'},
      //{name:'电子工业大学'},
      //{name:'武汉工业大学'},
      //{name:'中国社科大学'},
      //{name:'湖北华工学院'},
      //{name:'中国油料作物研究所'},
      //{name:'武汉科技大学'},
      //{name:'中国电子科技大学'},
      //{name:'华中科技大学'},
      //{name:'国防科技大学'},
      //{name:'中国农业大学'},
      //{name:'中国科学院'},
      //{name:'四川农业大学'},
      //{name:'香港大学'},
      //{name:'华中农业大学'},
      //{name:'中国电子科技大学'},
      //{name:'武汉大学'},
      //{name:'电子工业大学'},
      //{name:'武汉工业大学'},
      //{name:'中国社科大学'},
      //{name:'湖北华工学院'},
      //{name:'中国油料作物研究所'},
      //{name:'武汉科技大学'},
      //{name:'中国电子科技大学'},
      //{name:'武汉大学'},
      //{name:'电子工业大学'},
      //{name:'武汉工业大学'},
      //{name:'中国社科大学'},
      //{name:'湖北华工学院'},
      //{name:'中国油料作物研究所'},
      //{name:'武汉科技大学'},
      //{name:'中国电子科技大学'},
      //{name:'武汉大学'},
      //{name:'电子工业大学'},
      //{name:'武汉工业大学'},
      //{name:'中国社科大学'},
      //{name:'湖北华工学院'},
      //{name:'中国油料作物研究所'},
      //{name:'武汉科技大学'},
      //{name:'中国电子科技大学'},
      //{name:'华中科技大学'},
      //{name:'国防科技大学'},
      //{name:'中国农业大学'},
      //{name:'中国科学院'},
      //{name:'四川农业大学'},
      //{name:'香港大学'},
      //{name:'华中农业大学'},
      //{name:'中国电子科技大学'},
      //{name:'武汉大学'},
      //{name:'电子工业大学'},
      //{name:'武汉工业大学'},
      //{name:'中国社科大学'},
      //{name:'湖北华工学院'},
      //{name:'中国油料作物研究所'},
      //{name:'武汉科技大学'},
      //{name:'中国电子科技大学'},
      //{name:'武汉大学'},
      //{name:'电子工业大学'},
      //{name:'武汉工业大学'},
      //{name:'中国社科大学'},
      //{name:'湖北华工学院'},
      //{name:'中国油料作物研究所'},
      //{name:'武汉科技大学'},
      //{name:'中国电子科技大学'},
      //{name:'武汉大学'},
      //{name:'电子工业大学'},
      //{name:'武汉工业大学'},
      //{name:'中国社科大学'},
      //{name:'湖北华工学院'},
      //{name:'中国油料作物研究所'},
      //{name:'武汉科技大学'},
      //{name:'中国电子科技大学'},
      //{name:'华中科技大学'},
      //{name:'国防科技大学'},
      //{name:'中国农业大学'},
      //{name:'中国科学院'},
      //{name:'四川农业大学'},
      //{name:'香港大学'},
      //{name:'华中农业大学'},
      //{name:'中国电子科技大学'},
      //{name:'武汉大学'},
      //{name:'电子工业大学'},
      //{name:'武汉工业大学'},
      //{name:'中国社科大学'},
      //{name:'湖北华工学院'},
      //{name:'中国油料作物研究所'},
      //{name:'武汉科技大学'},
      //{name:'中国电子科技大学'},
      //{name:'武汉大学'},
      //{name:'电子工业大学'},
      //{name:'武汉工业大学'},
      //{name:'中国社科大学'},
      //{name:'湖北华工学院'},
      //{name:'中国油料作物研究所'},
      //{name:'武汉科技大学'},
      //{name:'中国电子科技大学'},
      //{name:'武汉大学'},
      //{name:'电子工业大学'},
      //{name:'武汉工业大学'},
      //{name:'中国社科大学'},
      //{name:'湖北华工学院'},
      //{name:'中国油料作物研究所'},
      //{name:'武汉科技大学'},
      //{name:'中国电子科技大学'},


    ]

    //alert('size=' + vm.schoolsInfo.length);

    vm.ui_items = [];

    $scope.$watch('vm.input', function(val){
      if(typeof val == 'undefined' || val==''){

        vm.ui_items = vm.schoolsInfo;
      }
      else{
        vm.ui_items = [];
        for(var i in vm.schoolsInfo) {

          if(vm.schoolsInfo[i].name.indexOf(val) != -1){
            vm.ui_items.push(vm.schoolsInfo[i])
          }
        }
      }

    });



    vm.cb_selectItem = function(index) {
      schoolSelectService.selectedSchool = vm.schoolsInfo[index];
      $ionicHistory.goBack(-1);
    }
  }


})()
