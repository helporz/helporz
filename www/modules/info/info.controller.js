!function(){"use strict";function e(e,o,t,i,n,c,r,a,l,u,s,g,f,m){var d=o.vm={};d.info={avatar:"",schoolName:"",gender:0},d.info.cb_gender=function(){e.go("main.edit")},d.info.cb_school=function(){e.go("searchSchool")},d.info.cb_avatar=function(){console.log("click on image");r.show({titleText:"请选择图片来源",buttons:[{text:"照相机"},{text:"本地相薄"}],buttonClicked:function(e){if(0==e){var o={quality:100,destinationType:Camera.DestinationType.FILE_URI,sourceType:Camera.PictureSourceType.CAMERA,allowEdit:!1,encodingType:Camera.EncodingType.JPEG,targetWidth:200,targetHeight:200,mediaType:0,cameraDirection:0,popoverOptions:CameraPopoverOptions,saveToPhotoAlbum:!0};a.getPicture(o).then(function(e){d.info.avatar=e},function(e){alert("err: camera get picture err="+e)})}else{var o={maximumImagesCount:10,width:800,height:800,quality:80};alert("before $cordovaImagePicker.getPictures"),l.getPictures(o).then(function(e){d.selectedPics.push({src:e}),alert("img:"+e)},function(e){alert("err: pick image, err="+e)}),alert("before $window.imagePicker.getPictures"),$window.imagePicker.getPictures(function(e){for(var o=0;o<e.length;o++)console.log("Image URI: "+e[o]),alert("img:"+e[o])},function(e){console.log("Error: "+e)})}return!0},cancelText:"取消",cancel:function(){},destructiveButtonClicked:function(){}})},d.info.onChangeTab=function(e){},o.$on("$ionicView.enter",function(){d.info.schoolName=m.selectedSchool.name}),d.activeTab=0,d.info.cb_ok=function(){e.go("main.near"),t.clearHistory()}}function o(){var e={name:"来自哪所高校",id:-1};return{selectedSchool:e}}angular.module("info").controller("infoCtrl",["$state","$scope","$ionicHistory","$ionicLoading","$ionicPopup","$ionicScrollDelegate","$ionicActionSheet","$cordovaCamera","$cordovaImagePicker","$timeout","$interval","userNetService","errorCodeService","schoolSelectService",e]).factory("schoolSelectService",o)}();