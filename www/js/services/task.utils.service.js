!function(){"use strict";angular.module("app.task.utils.service",[]).constant("taskDesc",[{name:"捎带侠",subtype:[{name:"捎带餐饮",holder:"路过食堂/快餐店/饮品店的大侠请帮我..",icon:"qiu-daican-n"},{name:"超市捎带",holder:"路过超市/小卖铺/便利店的大侠请帮我..",icon:"qiu-daigou-n"},{name:"捎带水果",holder:"路过水果摊/水果店的大侠请帮我..",icon:"qiu-shuiguo-n"}]},{name:"情报侠",subtype:[{name:"打听某人",holder:"打听社团成员/心仪的童鞋/偶遇的身影..",icon:"qiu-dating-n"},{name:"打听事情",holder:"打听校园事件/生活信息/机构流程等",icon:"qiu-wenshi-n"},{name:"寻物启事",holder:"打听丢失的物品、宠物、男女朋友等",icon:"qiu-xunwu-n"},{name:"帮忙看看",holder:"询问自习室/球馆等场所空位/赛事等状况",icon:"qiu-yan-n"}]},{name:"借宝侠",subtype:[{name:"借资料书籍",holder:"借书籍课本/笔记资料/借阅证等",icon:"qiu-shuji-n"},{name:"借运动用品",holder:"借球类用品/自行车/健身用具等",icon:"qiu-yundong-n"},{name:"借生活工具",holder:"借手电起子/医药/生活电器/户外用品等",icon:"qiu-shenghuo-n"},{name:"借娱乐物件",holder:"借棋牌桌游/电玩/乐器/聚会道具等",icon:"qiu-yule-n"}]}]).factory("taskUtils",["taskDesc",function(t){function e(t,e){return 100*t+e}function i(t){return parseInt(t/100)}function s(t){return parseInt(t%100)}function u(e){if(angular.isNumber(e)){var u=t[i(e)];if(void 0==u)return console.error("task main type invalid typeValue="+e),null;var a=u.subtype[s(e)];return void 0==a&&console.error("task sub type invalid typeValue="+e),a}}function a(t){var e=u(t);if(null==e)return"";var i="img/task/icon/"+e.icon+"@2x.png";return i}function _(t){var e=u(t);return null==e?"":e.name}function o(t,e,i){t.ui_stateDesc="",t.ui_textOptPassive="",t.ui_textOptActive="",0==e?(t.ui_tagState1=O.WAIT,t.ui_tagState2=n.NONE,t.ui_tagState3=p.NONE,t.ui_tagText1="等待援手",t.ui_tagText2="进行中",t.ui_tagText3="搞定",t.ui_stateDesc="",t.ui_showOptPassive=!0,t.ui_textOptPassive="取消求助",t.ui_showOptPassive2=!0,t.ui_textOptPassive2="查看留言",t.ui_showOptActive=!1):2==e?(t.ui_tagState1=O.FAILED_WAIT_OVERTIME,t.ui_tagState2=n.NONE,t.ui_tagState3=p.NONE,t.ui_tagText1="无人接手",t.ui_tagText2="进行中",t.ui_tagText3="搞定",t.ui_stateDesc="大侠召唤术失灵了",t.ui_showOptPassive=!0,t.ui_textOptPassive="学习召唤术",t.ui_showOptPassive2=!1,t.ui_showOptActive=!1):4==e?(t.ui_tagState1=O.DONE,t.ui_tagState2=n.GOING,t.ui_tagState3=p.NONE,t.ui_tagText1="已接手",t.ui_tagText2="进行中",t.ui_tagText3="搞定",1==i?(t.ui_stateDesc="等待对方完成援助",t.ui_showOptPassive=!1,t.ui_showOptActive=!1):(t.ui_stateDesc="",t.ui_showOptPassive=!0,t.ui_textOptPassive="放弃援助",t.ui_showOptPassive2=!1,t.ui_showOptActive=!0,t.ui_textOptActive="我已完成援助")):8==e?(t.ui_tagState1=O.DONE,t.ui_tagState2=n.FAILED_GOING_OVERTIME,t.ui_tagState3=p.NONE,t.ui_tagText1="已接手",t.ui_tagText2="援助超时",t.ui_tagText3="已搞定",1==i?(t.ui_stateDesc="事随有憾,心怀感恩",t.ui_showOptPassive=!1,t.ui_showOptPassive2=!1,t.ui_showOptActive=!0,t.ui_textOptActive="留言评价"):(t.ui_stateDesc="挫折常有,不忘初心",t.ui_showOptPassive=!1,t.ui_showOptPassive2=!1,t.ui_showOptActive=!0,t.ui_textOptActive="留言评价")):16==e?(t.ui_tagState1=O.FAILED_CANCEL,t.ui_tagState2=n.NONE,t.ui_tagState3=p.NONE,t.ui_tagText1="任务取消",t.ui_tagText2="进行中",t.ui_tagText3="已搞定",t.ui_stateDesc="邂逅惊喜,也许就在下一次",t.ui_showOptPassive=!1,t.ui_showOptPassive2=!1,t.ui_showOptActive=!1):32==e?(t.ui_tagState1=O.DONE,t.ui_tagState2=n.FAILED_GIVEUP,t.ui_tagState3=p.NONE,t.ui_tagText1="已接手",t.ui_tagText2=1==i?"对方放弃援助":"放弃援助",t.ui_tagText3="已搞定",1==i?(t.ui_stateDesc="事虽有憾,心怀感恩",t.ui_showOptPassive=!1,t.ui_showOptPassive2=!1,t.ui_showOptActive=!0,t.ui_textOptActive="留言评价"):(t.ui_stateDesc="勿辜负每一份期待",t.ui_showOptPassive=!1,t.ui_showOptPassive2=!1,t.ui_showOptActive=!0,t.ui_textOptActive="查看评价")):64==e?(t.ui_tagState1=O.DONE,t.ui_tagState2=n.DONE,t.ui_tagState3=p.CONFIRM_WAIT,t.ui_tagText1="已接手",t.ui_tagText2="进行中",t.ui_tagText3="等待确认",1==i?(t.ui_showOptPassive=!0,t.ui_textOptPassive="未完成援助",t.ui_showOptPassive2=!1,t.ui_showOptActive=!0,t.ui_textOptActive="确认对方已完成援助"):(t.ui_stateDesc="等待对方确认援助完成",t.ui_showOptPassive=!1,t.ui_showOptPassive2=!1,t.ui_showOptActive=!1)):128==e?(t.ui_tagState1=O.DONE,t.ui_tagState2=n.DONE,t.ui_tagState3=p.SUCCESS,t.ui_tagText1="已接手",t.ui_tagText2="进行中",t.ui_tagText3="搞定",1==i?0!=t.posterCommentLevel?(t.ui_showOptPassive=!0,t.ui_textOptPassive="查看评价",t.ui_showOptPassive2=!1,t.ui_showOptActive=!1,0!=t.accepterCommentLevel?t.ui_stateDesc="双方已互评价":t.ui_stateDesc="等待对方的评价"):(t.ui_showOptPassive=!1,t.ui_showOptPassive2=!1,t.ui_showOptActive=!0,t.ui_textOptActive="留言评价",t.ui_stateDesc="记得按承诺好好感谢对方哦"):(t.ui_showOptPassive=!1,t.ui_showOptActive=!0,0!=t.accepterCommentLevel?(t.ui_showOptPassive=!0,t.ui_textOptPassive="查看评价",t.ui_showOptPassive2=!1,t.ui_showOptActive=!1,0!=t.posterCommentLevel?t.ui_stateDesc="双方已互评价":t.ui_stateDesc="等待对方的评价"):(t.ui_showOptPassive=!1,t.ui_showOptPassive2=!1,t.ui_showOptActive=!0,t.ui_textOptActive="留言评价",t.ui_stateDesc="接受对方的膜拜与致谢"))):256==e&&(t.ui_tagState1=O.DONE,t.ui_tagState2=n.DONE,t.ui_tagState3=p.FAILED,t.ui_tagText1="已接手",t.ui_tagText2="进行中",t.ui_tagText3="援助未成功",1==i?(t.ui_stateDesc="常怀感恩,如沐春风",t.ui_showOptPassive=!1,t.ui_showOptPassive2=!1,t.ui_showOptActive=!0,t.ui_textOptActive="留言评价"):(t.ui_stateDesc="挫折常有,不忘初心",t.ui_showOptPassive=!1,t.ui_showOptPassive2=!1,t.ui_showOptActive=!0,t.ui_textOptActive="留言评价"))}var O={DONE:0,FAILED_CANCEL:1,FAILED_WAIT_OVERTIME:2,WAIT:3},n={NONE:-1,DONE:0,FAILED_GIVEUP:1,FAILED_GOING_OVERTIME:2,GOING:3},p={NONE:-1,FAILED:1,CONFIRM_WAIT:2,SUCCESS:3};return{typeValue:e,mainByTypeValue:i,subByTypeValue:s,iconByTypeValue:a,nameByTypeValue:_,taskStateToUiState:o}}])}();