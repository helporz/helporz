!function(){"use strict";function e(e,r,t){var n=function(n,a){var i=r.defer();return t.getForPromise(n,null).then(function(r){Wechat.share({message:{title:r.title,description:r.description,thumb:"www/img/com/sharepage-icon.png",media:{type:Wechat.Type.WEBPAGE,webpageUrl:r.link}},scene:a},function(){i.resolve()},function(r){e.error("微信分享接口调用失败"+r),i.reject()})},function(r){e.error("获取分享信息失败"+r),i.reject()}),i.promise},a=function(e){var r="/message/share_page";return n(r,e)},i=function(e,r){var t="/task/"+e+"/share_page";return n(t,r)},o=function(e,r){var t="/playground/topic/"+e+"/share_page";return n(t,r)};return{shareApp:a,shareTask:i,shareTopic:o,sharePageCommon:n}}function r(e,r,t,n){var a=function(r){var a=e.defer(),i={};return i.titleText="与朋友们分享",i.cancelText="算了",i.buttonClicked=function(e){return n.sharePageCommon(r,e).then(function(){a.resolve()},function(){a.reject()}),!0},i.buttons=[{text:'<i class="icon ion-at"></i> 分享给微信小伙伴'},{text:'<i class="icon ion-chatbubbles"></i> 分享到微信朋友圈'},{text:'<i class="icon ion-star"></i> 添加到微信收藏夹'}],t.show(i),a.promise},i=function(){var e="/message/share_page";return a(e)},o=function(e){var r="/task/"+e+"/share_page";return a(r)},c=function(e){var r="/playground/topic/"+e+"/share_page";return a(r)};return{shareApp:i,shareTask:o,shareTopic:c}}angular.module("com.helporz.utils.service").factory("SharePageService",e).factory("SharePageWrapService",r),e.$inject=["$log","$q","httpBaseService"],r.$inject=["$q","httpBaseService","$ionicActionSheet","SharePageService"]}();